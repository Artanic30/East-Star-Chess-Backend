(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{132:function(e,a,t){},170:function(e,a,t){e.exports=t.p+"static/media/userImage.6f899f32.jpg"},186:function(e,a,t){e.exports=t(368)},191:function(e,a,t){},368:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(8),c=t.n(l);t(191),t(192),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var s=t(14),i=t(15),o=t(17),m=t(16),u=t(18),p=t(34),d=t(52),h=t(68),E=function e(){var a=this;Object(s.a)(this,e),this.is_auth=!0,this.username="",this.login=function(){a.is_auth=!0},this.logout=function(){a.is_auth=!1,a.username=""}};Object(h.b)(E,{is_auth:h.c,username:h.c,login:h.a,logout:h.a});var f=new E,b=function(e){function a(){return Object(s.a)(this,a),Object(o.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(u.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this.props;return r.a.createElement(r.a.Fragment,null,f.is_auth?r.a.createElement(d.b,e):r.a.createElement(d.a,{to:"/index"}))}}]),a}(r.a.Component),g=t(21),y=(t(60),t(132),t(69)),k=t(40),v=t(374),O=t(12),w=t(53),j=t(377),C=t(378),I=t(372),x=t(373),N=t(376),P=t(171),_=t.n(P),B=function(e){if("undefined"===typeof document)return null;var a=null;if(document.cookie&&""!==document.cookie)for(var t=document.cookie.split(";"),n=0;n<t.length;n+=1){var r=t[n].trim();if(r.substring(0,e.length+1)==="".concat(e,"=")){a=decodeURIComponent(r.substring(e.length+1));break}}return a},S={get provider(){return _.a.create({withCredentials:!0,headers:{"X-CSRFToken":B("csrftoken"),"Content-Type":"application/x-www-form-urlencoded"}})},getInstance:function(){return this.provider},request:function(){var e;return(e=this.provider).request.apply(e,arguments)},post:function(){var e;return(e=this.provider).post.apply(e,arguments)},get:function(){var e;return(e=this.provider).get.apply(e,arguments)},patch:function(){var e;return(e=this.provider).patch.apply(e,arguments)},delete:function(){var e;return(e=this.provider).delete.apply(e,arguments)}},D=function(e){function a(){var e,t;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(o.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(r)))).handleSubmit=function(e){e.preventDefault(),t.props.form.validateFields(function(e,a){if(!e){var t=new FormData;t.append("username",a.username),t.append("password",a.password),console.log("called here!"),S.post("http://127.0.0.1:8000/api/login",t).then(function(e){"success"===e.data.msg?(console.log("called"),f.login(!0),C.a.success({message:"Success!",description:"\u767b\u5f55\u6210\u529f\uff01"})):C.a.error({message:"Failure",description:e.data.msg})})}})},t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return r.a.createElement(I.a,{onSubmit:this.handleSubmit,className:"login-form"},r.a.createElement(I.a.Item,null,e("username",{rules:[{required:!0,message:"Please input your username!"}]})(r.a.createElement(x.a,{prefix:r.a.createElement(O.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Username"}))),r.a.createElement(I.a.Item,null,e("password",{rules:[{required:!0,message:"Please input your Password!"}]})(r.a.createElement(x.a,{prefix:r.a.createElement(O.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"Password"}))),r.a.createElement(I.a.Item,null,e("remember",{valuePropName:"checked",initialValue:!0})(r.a.createElement(N.a,null,"Remember me")),r.a.createElement("a",{className:"login-form-forgot",href:"https://www.baidu.com"},"Forgot password"),r.a.createElement(w.a,{type:"primary",htmlType:"submit",className:"login-form-button"},"Log in"),"Or ",r.a.createElement(p.b,{to:"/register"},"register now!")))}}]),a}(r.a.Component),T=I.a.create({name:"normal_log"})(D),F=t(375),R=function(e){function a(e){var t;return Object(s.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).handleMenuClick=function(e){"2"===e.key&&(f.logout(),S.get("http://127.0.0.1:8000/api/logout").then(function(e){C.a.success({message:"Success!",description:e.data.msg})}))},t.handleMenuClick=t.handleMenuClick.bind(Object(g.a)(t)),t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement(F.a,{overlay:q(this.handleMenuClick)},r.a.createElement(w.a,{type:"primary",href:"#",className:"state-button"},r.a.createElement("span",{style:{color:"white",paddingTop:"4px"}},"Account"),r.a.createElement(O.a,{style:{color:"white"},type:"down"})))}}]),a}(r.a.Component),q=function(e){return r.a.createElement(v.b,{onClick:e},r.a.createElement(v.b.Item,{key:1},r.a.createElement(p.b,{to:"/profile/:user_id"},r.a.createElement("span",null,"Profile"))),r.a.createElement(v.b.Item,{key:2},r.a.createElement("span",null,"Logout")))},A=R,M=function(e){function a(e){var t;return Object(s.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).handleClick=function(e){t.setState({current:e.key})},t.showDrawer=function(){t.setState({visible:!0})},t.onClose=function(){t.setState({visible:!1})},t.state={current:e.site,visible:!1},t.handleClick=t.handleClick.bind(Object(g.a)(t)),t.showDrawer=t.showDrawer.bind(Object(g.a)(t)),t.onClose=t.onClose.bind(Object(g.a)(t)),t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement(y.a,null,r.a.createElement(k.a,null,r.a.createElement(v.b,{onClick:this.handleClick,selectedKeys:[this.state.current],mode:"horizontal",className:"theme-dark"},r.a.createElement(v.b.Item,{key:"index"},r.a.createElement(p.b,{to:"/index"},r.a.createElement(y.a,null,r.a.createElement(k.a,{span:6},r.a.createElement(O.a,{type:"dashboard"})),r.a.createElement(k.a,{span:18},r.a.createElement("h1",null,"Index"))))),r.a.createElement(v.b.Item,{key:"profile"},r.a.createElement(p.b,{to:"/profile/:user_id"},r.a.createElement(y.a,null,r.a.createElement(k.a,{span:6},r.a.createElement(O.a,{type:"idcard"})),r.a.createElement(k.a,{span:18},r.a.createElement("h1",null,"Profile"))))),r.a.createElement(v.b.Item,{key:"gameBoard"},r.a.createElement(p.b,{to:"/gameBoard"},r.a.createElement(y.a,null,r.a.createElement(k.a,{span:6},r.a.createElement(O.a,{type:"table"})),r.a.createElement(k.a,{span:18},r.a.createElement("h1",null,"GameBoard"))))),r.a.createElement(v.b.Item,{key:"scoreBoard"},r.a.createElement(p.b,{to:"/scoreBoard"},r.a.createElement(y.a,null,r.a.createElement(k.a,{span:6},r.a.createElement(O.a,{type:"bars"})),r.a.createElement(k.a,{span:18},r.a.createElement("h1",null,"ScoreBoard"))))),f.is_auth?r.a.createElement(v.b.Item,{key:"login",className:"login-button"},r.a.createElement(A,null)):r.a.createElement(v.b.Item,{key:"login",className:"login-button"},r.a.createElement(w.a,{type:"primary",onClick:this.showDrawer},"Login"),r.a.createElement(j.a,{title:"Login",placement:"top",closable:!1,onClose:this.onClose,visible:this.state.visible,height:400},r.a.createElement(y.a,null,r.a.createElement(k.a,{span:5}),r.a.createElement(k.a,{span:8},r.a.createElement(T,null)),r.a.createElement(k.a,{span:8,type:"flex",justify:"center",align:"center"},r.a.createElement("img",{src:t(92),alt:"",className:"login-img"})),r.a.createElement(k.a,{span:3})))))))}}]),a}(r.a.Component),G=t(371),L=t(369),U=G.a.Meta,W="\u4e1c\u7687\u68cb\u662f\u6e90\u81ea\u4e8e\u516c\u5143\u524d2000\u5e74\u53e4\u57c3\u53ca\u6587\u660e\u521b\u59cb\u540e\u7684\u56db\u5343\u5e74\u7531\u4e00\u4f4d\u6765\u81ea\u53e4\u4e2d\u56fd\u7684\u4f20\u4eba\u53d1\u660e",z="\u4e1c\u7687\u68cb\u6e38\u620f\u89c4\u5219\uff1a\u51fa\u73b0\u8fde\u7eed\u76f8\u90bb\u7684\u4e09\u4e2a\u5b50\u5224\u8d1f\uff0c\u65e0\u8bba\u65b9\u5411\u662f\u6b63\u65b9\u5411\u6216\u659c\u65b9\u5411\u3002\u4e09\u4e2a\u5b50\u4ee5\u4e0a\u76f8\u90bb\u5219\u5224\u5b9a\u80dc\u5229",J="\u4e1c\u7687\u68cb\u5982\u4eca\u6d41\u884c\u4e8e\u4e0a\u6d77\u67d0\u9ad8\u6821\u5927\u4e00\u65b0\u751f\u4e4b\u4e2d\uff0c\u6309\u5bdd\u5ba4\u4e0d\u540c\u5206\u4e3a\u6b66\u5f53\u6d3e\uff0c\u5ce8\u7709\u6d3e\u4ee5\u53ca\u534e\u5c71\u6d3e\uff0c\u5404\u6d3e\u5747\u6709\u8eab\u6000\u7edd\u6280\u7684\u638c\u95e8\u4eba",V=function(e){function a(e){var n;return Object(s.a)(this,a),(n=Object(o.a)(this,Object(m.a)(a).call(this,e))).getCards=function(e,a,n){var l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;return r.a.createElement(L.a,{afterChange:l,ref:e,className:a,dots:n},r.a.createElement("div",null,r.a.createElement(G.a,{hoverable:!0,cover:r.a.createElement("img",{alt:"example",src:t(92)})},r.a.createElement(U,{title:"\u4e1c\u7687\u68cb",description:W}))),r.a.createElement("div",null,r.a.createElement(G.a,{hoverable:!0,cover:r.a.createElement("img",{alt:"example",src:t(92)})},r.a.createElement(U,{title:"\u6e38\u620f\u89c4\u5219",description:z}))),r.a.createElement("div",null,r.a.createElement(G.a,{hoverable:!0,cover:r.a.createElement("img",{alt:"example",src:t(92)})},r.a.createElement(U,{title:"\u6d41\u4f20\u73b0\u72b6",description:J}))))},n.onChange=function(e){n.sideCarouselOne.current.slick.slickGoTo(e),n.sideCarouselTwo.current.slick.slickGoTo(e)},n.mainCarousel=r.a.createRef(),n.sideCarouselOne=r.a.createRef(),n.sideCarouselTwo=r.a.createRef(),n.onChange=n.onChange.bind(Object(g.a)(n)),n.getCards=n.getCards.bind(Object(g.a)(n)),n}return Object(u.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,null,r.a.createElement(k.a,null,r.a.createElement(M,{site:"index"}))),r.a.createElement(y.a,{className:"margin-top"},r.a.createElement(k.a,{span:8},this.getCards(this.sideCarouselOne,"side-carouselOne",!1)),r.a.createElement(k.a,{span:8},this.getCards(this.mainCarousel,"main-carousel",!0,this.onChange)),r.a.createElement(k.a,{span:8},this.getCards(this.sideCarouselTwo,"side-carouselTwo",!1))))}}]),a}(r.a.Component),K=t(183),X=function(e){function a(){var e,t;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(o.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(r)))).state={confirmDirty:!1,autoCompleteResult:[]},t.handleSubmit=function(e){e.preventDefault(),t.props.form.validateFieldsAndScroll(function(e,a){if(!e){console.log("Received values of form: ",a);var t=new FormData;t.append("username",a.nickname),t.append("password",a.password),t.append("email",a.email),S.post("http://127.0.0.1:8000/api/register",t).then(function(e){})}})},t.handleConfirmBlur=function(e){var a=e.target.value;t.setState({confirmDirty:t.state.confirmDirty||!!a})},t.compareToFirstPassword=function(e,a,n){var r=t.props.form;a&&a!==r.getFieldValue("password")?n("Two passwords that you enter is inconsistent!"):n()},t.validateToNextPassword=function(e,a,n){var r=t.props.form;a&&t.state.confirmDirty&&r.validateFields(["confirm"],{force:!0}),n()},t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return r.a.createElement(I.a,Object.assign({},{labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}},labelAlign:"left"},{onSubmit:this.handleSubmit}),r.a.createElement(I.a.Item,{label:r.a.createElement("span",null,"Nickname\xa0",r.a.createElement(K.a,{title:"What do you want others to call you?"},r.a.createElement(O.a,{type:"question-circle-o"})))},e("nickname",{rules:[{required:!0,message:"Please input your nickname!",whitespace:!0}]})(r.a.createElement(x.a,null))),r.a.createElement(I.a.Item,{label:"Password",hasFeedback:!0},e("password",{rules:[{required:!0,message:"Please input your password!"},{validator:this.validateToNextPassword}]})(r.a.createElement(x.a.Password,null))),r.a.createElement(I.a.Item,{label:"Confirm Password",hasFeedback:!0},e("confirm",{rules:[{required:!0,message:"Please confirm your password!"},{validator:this.compareToFirstPassword}]})(r.a.createElement(x.a.Password,{onBlur:this.handleConfirmBlur}))),r.a.createElement(I.a.Item,{label:"E-mail"},e("email",{rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:"Please input your E-mail!"}]})(r.a.createElement(x.a,null))),r.a.createElement(I.a.Item,{wrapperCol:{xs:{span:24,offset:0},sm:{span:16,offset:8}}},r.a.createElement(w.a,{type:"primary",htmlType:"submit"},"Register")))}}]),a}(r.a.Component),Y=I.a.create({name:"register"})(X),$=function(e){function a(){return Object(s.a)(this,a),Object(o.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(u.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(y.a,null,r.a.createElement(k.a,null,r.a.createElement(M,{site:"index"}))),r.a.createElement(y.a,{className:"sky"},r.a.createElement(k.a,{span:10,offset:7},r.a.createElement(G.a,{className:"register-card"},r.a.createElement(Y,null)))))}}]),a}(r.a.Component),H=t(370),Q=function(e){function a(e){var t;return Object(s.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).edit=function(e){e.preventDefault(),console.log("editing!")},t.smile=function(e){e.preventDefault(),console.log("smiling!")},t.like=function(e){e.preventDefault(),console.log("like!")},t.dislike=function(e){e.preventDefault(),console.log("dislike!")},t.state={check_self:!1,nickname:"testName",games:200,Rank:25,email:"",remark:"test_remark test_remarktest_remark test_remarktest_remark test_remarktest_remark"},t.edit=t.edit.bind(Object(g.a)(t)),t.like=t.like.bind(Object(g.a)(t)),t.dislike=t.dislike.bind(Object(g.a)(t)),t.smile=t.smile.bind(Object(g.a)(t)),t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"componentWillMount",value:function(){var e=this;S.get("http://127.0.0.1:8000/api/profile/".concat(this.props.match.params.user_id)).then(function(a){e.setState({nickname:a.data.nickname,games:a.data.games,Rank:"\u8fd8\u6ca1\u6709\u5b9e\u73b0",remark:a.data.remark,email:a.data.email,check_self:a.data.check})}).catch(function(e){C.a.error({message:"Oops...",description:"\u83b7\u53d6\u4fe1\u606f\u5931\u8d25\uff0c\u8bf7\u68c0\u67e5\u4f60\u7684\u7f51\u7edc"})})}},{key:"render",value:function(){return r.a.createElement("div",{className:"sky"},r.a.createElement(y.a,null,r.a.createElement(k.a,null,r.a.createElement(M,{site:"profile"}))),r.a.createElement(y.a,{className:"margin-top"},r.a.createElement(k.a,{span:8}),r.a.createElement(k.a,{span:8},r.a.createElement(G.a,{style:{width:600},cover:r.a.createElement("img",{style:{height:"400px"},alt:"example",src:t(170)}),actions:[r.a.createElement(O.a,{type:"like",onClick:this.like}),r.a.createElement(O.a,{type:"dislike",onClick:this.dislike}),this.state.check_self?r.a.createElement(O.a,{type:"edit",onClick:this.edit}):r.a.createElement(O.a,{type:"smile",onClick:this.smile})]},r.a.createElement(H.a,{title:"Profile"},r.a.createElement(H.a.Item,{label:"UserName"},this.state.nickname),r.a.createElement(H.a.Item,{label:"Games"},this.state.games),r.a.createElement(H.a.Item,{label:"Rank"},this.state.Rank),r.a.createElement(H.a.Item,{label:"Remark"},this.state.remark),r.a.createElement(H.a.Item,{label:"Email"},this.state.email)))),r.a.createElement(k.a,{span:8})))}}]),a}(r.a.Component),Z=function(e){function a(e){var n;return Object(s.a)(this,a),(n=Object(o.a)(this,Object(m.a)(a).call(this,e))).getPlayerInfo=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{type:"flex",justify:"center"},r.a.createElement(k.a,null,r.a.createElement("img",{alt:"Loading...",src:t(170),className:"bigSmile"}))),r.a.createElement(y.a,{className:"space-around"},r.a.createElement(k.a,null,r.a.createElement("h1",null,"Player:"))),r.a.createElement(y.a,{className:"space-around"},r.a.createElement(k.a,null,r.a.createElement("h2",null,e))))},n.clickChess=function(e,a){n.state.endGame||S.post("http://127.0.0.1:8000/api/update",{row:e,col:a}).then(function(e){console.log(e),"no"===e.data.msg&&C.a.error({message:"Operation fail",description:"You can not make that move!"}),"NA"===e.data.msg?n.setState({chessBoard:e.data.matrix}):(C.a.error({message:"Result",description:e.data.msg}),n.setState({endGame:!0}))}).catch(function(e){C.a.error({message:"Oops..",description:"\u83b7\u53d6\u4fe1\u606f\u5931\u8d25\uff0c\u8bf7\u68c0\u67e5\u4f60\u7684\u7f51\u7edc"})})},n.state={playerOne:"test_nameOne",playerTwo:"test_nameTwo",endFame:!1,chessBoard:new Array(5).fill(new Array(5).fill(""))},n.getPlayerInfo=n.getPlayerInfo.bind(Object(g.a)(n)),n.clickChess=n.clickChess.bind(Object(g.a)(n)),n}return Object(u.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;S.get("http://127.0.0.1:8000/api").then(function(a){e.setState({chessBoard:a.data.board})})}},{key:"componentDidUpdate",value:function(e,a,t){console.log(e,a,t)}},{key:"render",value:function(){var e=this,a=this.state.chessBoard.map(function(e){return e.map(function(e){switch(e){case 1:return"\xd7";case-1:return"\u26aa";case 0:default:return""}})}),t=new Array(5).fill("");return r.a.createElement("div",null,r.a.createElement(y.a,null,r.a.createElement(k.a,null,r.a.createElement(M,{site:"gameBoard"}))),r.a.createElement(y.a,null,r.a.createElement(k.a,{span:4},r.a.createElement("div",{className:"side-bar"},this.getPlayerInfo(this.state.playerOne))),r.a.createElement(k.a,{span:16},r.a.createElement(G.a,{className:"sky"},t.map(function(n,l){return r.a.createElement(y.a,{className:"no-wrap",type:"flex",justify:"center",key:"".concat(l)},t.map(function(t,n){return r.a.createElement(k.a,{key:"".concat(l,"/").concat(n)},r.a.createElement(w.a,{className:"chessButton",onClick:e.clickChess.bind(e,l,n)},r.a.createElement("h2",{style:{fontSize:"60px"}},a[l][n])))}))}))),r.a.createElement(k.a,{span:4},r.a.createElement("div",{className:"side-bar"},this.getPlayerInfo(this.state.playerTwo)))))}}]),a}(r.a.Component),ee=function(e){function a(){return Object(s.a)(this,a),Object(o.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(u.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(y.a,null,r.a.createElement(k.a,null,r.a.createElement(M,{site:"scoreBoard"}))),r.a.createElement(y.a,null,r.a.createElement(k.a,null,r.a.createElement("h1",null,"scoreBoard"))))}}]),a}(r.a.Component),ae=function(e){function a(){return Object(s.a)(this,a),Object(o.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(u.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement(p.a,null,r.a.createElement(d.d,null,r.a.createElement(d.b,{path:"/index",component:V}),r.a.createElement(b,{path:"/register",component:$}),r.a.createElement(b,{path:"/profile/:user_id",component:Q}),r.a.createElement(b,{path:"/gameBoard",component:Z}),r.a.createElement(b,{path:"/scoreBoard",component:ee}),r.a.createElement(d.b,{component:V})))}}]),a}(r.a.Component);c.a.render(r.a.createElement(ae,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},60:function(e,a,t){},92:function(e,a,t){e.exports=t.p+"static/media/chess.1026b59b.jpg"}},[[186,1,2]]]);
//# sourceMappingURL=main.b17cb7e2.chunk.js.map